---
title: "画像を任意のサイズ（容量）に変換する"
date: 2018-05-06T21:37:25+09:00
categories:
- Tech
tags:
- ImageMagick
---

テストのために容量の大きい画像が必要になったが、
案外見つからなくて、結局ImageMagickで適当な画像を変換して作ることにしたので、そのやり方を記す。

<!--more-->

iPhoneとかで取った写真だと2〜3MBくらい。
今回欲しかったのは5MB以上だったのでダメ。

前に一眼レフで撮ってもらった写真があったなと思い、Google Photoで探したら、数百KBくらいだった。
Google Photoが頑張って圧縮しちゃっていたようだ。

インターネットで適当に探しても、5MB以上となるとなかなか出てこない。
1GBオーバーの天体画像なら出てきたが、さすがにでかすぎた。

ということで、ImageMagickに頼ることにした。

```bash
convert input.jpg -resize 2048x2048 output.bmp
```

こんな感じ。ビットマップなので、2048x2048の画像でだいたい12MB。

完全に任意の容量にするにはちょっと計算が必要だけど、ざっくりでいいならこれで作れる。
ビットマップにしているのは、無圧縮のほうが計算しやすいため。
RGBそれぞれ1バイトずつなので、1画素あたり3MBになる。
1024x1024サイズだと、画素数がちょうど1Mなので、3MB。5MBには少し足りないので、
縦横倍にして4倍の12MBの画像になるというわけ。
